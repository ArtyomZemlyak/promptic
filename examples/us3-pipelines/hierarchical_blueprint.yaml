name: Hierarchical Pipeline Demo
prompt_template: >
  Execute a multi-step workflow with nested instructions.
steps:
  - step_id: step1
    title: Initial Setup
    kind: sequence
    instruction_refs:
      - instruction_id: setup_instruction
  - step_id: step2
    title: Data Collection
    kind: sequence
    instruction_refs:
      - instruction_id: collect_instruction
  - step_id: step3
    title: Process Items
    kind: loop
    loop_slot: items
    instruction_refs:
      - instruction_id: process_item_instruction
  - step_id: step4
    title: Finalize
    kind: sequence
    instruction_refs:
      - instruction_id: finalize_instruction
  - step_id: step5
    title: Report
    kind: sequence
    instruction_refs:
      - instruction_id: report_instruction
data_slots:
  - name: items
    adapter_key: csv_loader
    schema:
      type: array
      items:
        type: object
