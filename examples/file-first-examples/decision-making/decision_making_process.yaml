name: Decision Making Process
prompt_template: >
  You are a strategic decision maker. Your task is to evaluate options,
  assess risks, and make well-informed decisions using structured methodology.
settings:
  instruction_root: instructions
  adapter_defaults:
    json_loader:
      path: data/decision_contexts.json
global_instructions:
  - instruction_id: decision_principles
steps:
  - step_id: define_problem
    title: Define Problem and Objectives
    kind: sequence
    instruction_refs:
      - instruction_id: define_problem_step
    children:
      - step_id: clarify_context
        title: Clarify Context and Scope
        kind: sequence
        instruction_refs:
          - instruction_id: clarify_context_step
      - step_id: identify_stakeholders
        title: Identify Stakeholders
        kind: sequence
        instruction_refs:
          - instruction_id: identify_stakeholders_step
  - step_id: gather_information
    title: Gather Relevant Information
    kind: sequence
    instruction_refs:
      - instruction_id: gather_information_step
    children:
      - step_id: collect_data
        title: Collect Data and Evidence
        kind: sequence
        instruction_refs:
          - instruction_id: collect_data_step
      - step_id: consult_experts
        title: Consult Subject Matter Experts
        kind: sequence
        instruction_refs:
          - instruction_id: consult_experts_step
  - step_id: generate_options
    title: Generate Decision Options
    kind: sequence
    instruction_refs:
      - instruction_id: generate_options_step
    children:
      - step_id: brainstorm_alternatives
        title: Brainstorm Alternatives
        kind: sequence
        instruction_refs:
          - instruction_id: brainstorm_alternatives_step
      - step_id: refine_options
        title: Refine and Consolidate Options
        kind: sequence
        instruction_refs:
          - instruction_id: refine_options_step
  - step_id: evaluate_options
    title: Evaluate Each Option
    kind: loop
    loop_slot: options
    instruction_refs:
      - instruction_id: evaluate_options_step
    children:
      - step_id: assess_feasibility
        title: Assess Feasibility
        kind: branch
        instruction_refs:
          - instruction_id: assess_feasibility_step
        conditions:
          - if: feasibility_score >= 0.7
            then: analyze_benefits
          - if: feasibility_score < 0.7
            then: identify_barriers
      - step_id: analyze_benefits
        title: Analyze Benefits and Value
        kind: sequence
        instruction_refs:
          - instruction_id: analyze_benefits_step
      - step_id: identify_barriers
        title: Identify Barriers and Risks
        kind: sequence
        instruction_refs:
          - instruction_id: identify_barriers_step
      - step_id: assess_risks
        title: Assess Risks and Consequences
        kind: sequence
        instruction_refs:
          - instruction_id: assess_risks_step
  - step_id: compare_options
    title: Compare Options Systematically
    kind: sequence
    instruction_refs:
      - instruction_id: compare_options_step
    children:
      - step_id: apply_criteria
        title: Apply Decision Criteria
        kind: sequence
        instruction_refs:
          - instruction_id: apply_criteria_step
      - step_id: score_options
        title: Score Options Against Criteria
        kind: sequence
        instruction_refs:
          - instruction_id: score_options_step
  - step_id: make_decision
    title: Make Final Decision
    kind: branch
    instruction_refs:
      - instruction_id: make_decision_step
    conditions:
      - if: confidence_level >= 0.8
        then: document_decision
      - if: confidence_level < 0.8
        then: seek_approval
  - step_id: document_decision
    title: Document Decision and Rationale
    kind: sequence
    instruction_refs:
      - instruction_id: document_decision_step
  - step_id: seek_approval
    title: Seek Additional Approval
    kind: sequence
    instruction_refs:
      - instruction_id: seek_approval_step
  - step_id: plan_implementation
    title: Plan Implementation
    kind: sequence
    instruction_refs:
      - instruction_id: plan_implementation_step
    children:
      - step_id: define_actions
        title: Define Action Steps
        kind: sequence
        instruction_refs:
          - instruction_id: define_actions_step
      - step_id: assign_resources
        title: Assign Resources and Responsibilities
        kind: sequence
        instruction_refs:
          - instruction_id: assign_resources_step
      - step_id: set_timeline
        title: Set Timeline and Milestones
        kind: sequence
        instruction_refs:
          - instruction_id: set_timeline_step
data_slots:
  - name: decision_contexts
    adapter_key: json_loader
    schema:
      type: array
      items:
        type: object
        properties:
          problem: {type: string}
          objectives: {type: array, items: {type: string}}
          constraints: {type: array, items: {type: string}}
          urgency: {type: string, enum: [low, medium, high, critical]}
  - name: options
    adapter_key: json_loader
    schema:
      type: array
      items:
        type: object
        properties:
          name: {type: string}
          description: {type: string}
          feasibility_score: {type: number}
          confidence_level: {type: number}
memory_slots:
  - name: decision_history
    provider_key: vector_db
  - name: decision_framework
    provider_key: vector_db
